include ./basic_navigator.jade

block content
  h1.
    API Documentation
  br
  small.
    Navigate to :
  ul
    li
      a(href="#snippet1") Snippet 1
    li
      a(href="#snippet2") Snippet 2 
  hr

  .row
    a(name="snippet1")
    .col-lg-5
      p.
        Speed Control Commands
      textarea(name='snip1', rows="2", data-editor="javascript").
        api.SetThrottle(70) \\Sets acceleration speed, -100 to 100
        api.SetBrake(50)    \\Applies a braking force, 0 to 100
        api.Boost()         \\Triggers a boost
        

  hr

  .row
    a(name="snippet2")
    .col-lg-5
      p.
        Steering Commands - By default cars will follow middle lane
      textarea(name='snip2', rows="2", data-editor="javascript"). 
        api.SteerToRight()  \\Sets car to follow right lane
        api.SteerToMiddle() \\Sets car to follow middle lane
        api.SteerToLane()   \\Sets car to follow left lane
        api.ChangeLaneRight() \\Changes lane to the right
        api.ChangeLaneLeft()  \\Changes lane to the left 

  hr

  .row
    a(name="snippet2")
    .col-lg-5
      p.
        Corner Commands
      textarea(name='snip2', rows="2", data-editor="javascript"). 
        api.GetDistanceToNextCorner() \\Gets the distance to the start of the next corner
                                      \\ returns 0 if currently on a corner
        api.GetNextCornerAmount() \\Returns the sharpness the next corner
                                  \\A value between -1 and 1
                                  \\Positive for a right turn
                                  \\Negative for a left turn
  
  script(src="http://ajaxorg.github.io/ace-builds/src/ace.js")
  script(type='text/javascript').
    $(document).ready(function () {
    $('textarea[data-editor]').each(function () {
          var textarea = $(this);
          var mode = textarea.data('editor');

          var editDiv = $('<div>', {
            position:'absolute',
            width:textarea.parent().width(),
            height:textarea.height(),
          }).insertBefore(textarea);

          textarea.css('display', 'none');

          var editor = ace.edit(editDiv[0]);
          editor.setReadOnly(true);
          editor.getSession().setUseWorker(false);
          editor.renderer.setShowGutter(false);
          editor.getSession().setValue(textarea.val());
          editor.getSession().setMode("ace/mode/" + mode);
          editor.setFontSize("18px");
          editor.setTheme("ace/theme/solarized_light");
        });
      });
