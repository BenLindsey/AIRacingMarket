{
    "scriptName" : "Rambo",
    "language" : "JavaScript",
    "script" : "var NORMAL_SPEED = 22;\r\nvar RAMMING_SPEED = 30;\r\n\r\nvar maxSpeed = NORMAL_SPEED; \r\n\r\nvar Ram = function(api) {\r\n    maxSpeed = RAMMING_SPEED; \r\n};\r\n\r\nvar StopRam = function(api) {\r\n    maxSpeed = NORMAL_SPEED; \r\n};\r\n\r\nWhen.CarOnRight()\r\n    .Then(Ram)\r\n    .ChangeLaneRight()\r\n    .After(100)\r\n    .Then(StopRam)\r\n    .ChangeLaneLeft();\r\n    \r\nWhen.CarOnLeft()\r\n    .Then(Ram)\r\n    .ChangeLaneLeft()\r\n    .After(100)\r\n    .Then(StopRam)\r\n    .ChangeLaneRight();\r\n    \r\nWhen.CarInFront()\r\n    .Then(function(api) { maxSpeed = RAMMING_SPEED; api.Boost(); })\r\n    .After(100)\r\n    .Then(StopRam);\r\n\r\nvar PhysicsUpdate = function(api) { \r\n    var distance = api.GetDistanceToNextCorner(); \r\n    \r\n    if (distance > 85 && distance < 100) { \r\n        api.Boost(); \r\n    }\r\n    \r\n    // Lane control when not ramming\r\n    if (maxSpeed != RAMMING_SPEED) {\r\n       if (api.GetNextCornerAmount() < 0) { \r\n            api.ChangeLaneLeft(); \r\n        } else { \r\n            api.ChangeLaneRight(); \r\n        } \r\n    }\r\n    \r\n    if (api.GetSpeed() > 22 && distance < 40 && !api.CarInFront()) { \r\n        api.SetThrottle(-50); \r\n    } else if (api.GetSpeed() > maxSpeed && !api.CarInFront()) { \r\n        api.SetThrottle(0); \r\n    } else {\r\n        api.SetThrottle(100);\r\n    }\r\n};"
}